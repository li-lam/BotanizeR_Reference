<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BotanizeR functions • BotanizeR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="BotanizeR functions">
<meta property="og:description" content="BotanizeR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">BotanizeR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/BotanizeR_config.html">BotanizeR config</a>
    </li>
    <li>
      <a href="../articles/BotanizeR_functions.html">BotanizeR functions</a>
    </li>
    <li>
      <a href="../articles/BotanizeR_Shiny.html">BotanizeR Shiny</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="BotanizeR_functions_files/header-attrs-2.9/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>BotanizeR functions</h1>
                        <h4 class="author">Patrick Weigelt, Pierre Denelle</h4>
            
            <h4 class="date">2021-08-05</h4>
      
      
      <div class="hidden name"><code>BotanizeR_functions.Rmd</code></div>

    </div>

    
    
<style>
body {
text-align: justify}
</style>
<div id="overview" class="section level1">
<h1 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h1>
<p>BotanizeR</p>
<div style="page-break-after: always;"></div>
<p>BotanizeR is an R-package with Shiny app designed to help botany students and other people interested in plants to learn and distinguish plant diagnostic characters, memorize plant species, and train their identification skills. Students can browse a species list, images, plant characteristics, habitat descriptions and distribution information or play a quiz where images of a random species are shown and students have to guess the correct species. BotanizeR is highly flexible allowing lecturers to define their own species lists and to provide images and further useful information, or choose from linked online content from selected botanical online resources. A Quiz and Species overview pages can be made available via the package’s Shiny application or played within R directly.</p>
</div>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/">devtools</a></span><span class="op">)</span>
<span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"https://github.com/patrickweigelt/BotanizeR"</span><span class="op">)</span>

<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://patrickweigelt.github.io/BotanizeR/">BotanizeR</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="functions" class="section level1">
<h1 class="hasAnchor">
<a href="#functions" class="anchor"></a>Functions</h1>
<p>The BotanizeR R package includes functions to collect species level information from defined reources, to play the BotanizeR quiz, to prepare content for the quiz (batch resizing images, creating a local species list) and for running the BotanizeR Shiny app.</p>
<div id="botanizer_species" class="section level2">
<h2 class="hasAnchor">
<a href="#botanizer_species" class="anchor"></a>BotanizeR_species</h2>
<p><code>BotanizeR_species</code> is an example dataset comprising a species list containing the relevant information to run <code>BotanizeR_quiz</code> or the BotanizeR Shiny app for 5852 vascular plant species from <a href="https://www.floraweb.de">FloraWeb</a> and the <a href="https://www.brc.ac.uk/%20plantatlas/">Online Atlas of the British Irish flora</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">BotanizeR_species</span><span class="op">)</span>
<span class="va">BotanizeR_species</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>, 
                  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"NAMNR"</span>, <span class="co"># FloraWeb ID</span>
                    <span class="st">"TAXONNAME"</span>,<span class="st">"SPECIES"</span>,<span class="st">"GENUS"</span>, <span class="co"># Names to display and guess</span>
                    <span class="st">"UK_Ireland"</span>, <span class="st">"Germany"</span>, <span class="co"># Columns to make subsets</span>
                    <span class="st">"COUNT"</span>, <span class="st">"SCORE"</span>, <span class="st">"ATTEMPTS"</span>, <span class="st">"INCLUDE"</span>, <span class="co"># Quiz controls            </span>
                    <span class="st">"ownhint_English_name"</span>, <span class="st">"ownhint_Description"</span>, <span class="co"># Own hints</span>
                    <span class="st">"imagelink_1"</span>, <span class="st">"imagelink_2"</span><span class="op">)</span><span class="op">]</span> <span class="co"># Own image links</span></code></pre></div>
<pre><code>##   NAMNR                         TAXONNAME            SPECIES GENUS UK_Ireland
## 1     1                  Abies alba Mill.         Abies alba Abies          1
## 2 10001     Abies grandis (D. Don) Lindl.      Abies grandis Abies          1
## 3 10004 Abies nordmanniana (Steven) Spach Abies nordmanniana Abies          1
## 4 10003              Abies procera Rehder      Abies procera Abies          1
##   Germany COUNT SCORE ATTEMPTS INCLUDE ownhint_English_name ownhint_Description
## 1       1     0     0        0       1  European Silver-fir                    
## 2       1     0     0        0       1            Giant Fir                    
## 3       1     0     0        0       1        Caucasian Fir                    
## 4       1     0     0        0       1            Noble Fir                    
##   imagelink_1 imagelink_2
## 1                        
## 2                        
## 3                        
## 4</code></pre>
</div>
<div id="botanizer_getlocallist" class="section level2">
<h2 class="hasAnchor">
<a href="#botanizer_getlocallist" class="anchor"></a>BotanizeR_getlocallist</h2>
<p><code><a href="../reference/BotanizeR_getlocallist.html">BotanizeR_getlocallist()</a></code> uses longitude and latitude coordinates and a defined buffer radius to retrieve a plant species list from <a href="https://www.gbif.org/">GBIF</a> and formats it for use in <code>BotanizeR_quiz</code> or the BotanizeR Shiny app. If a <code>backbone_list</code> is supplied, it will be subset for the species found in <a href="https://www.gbif.org/">GBIF</a> and returned.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Subset the species list for species occurring in Cairngorms National Park</span>
<span class="va">BotanizeR_Cairngorms</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/BotanizeR_getlocallist.html">BotanizeR_getlocallist</a></span><span class="op">(</span>long <span class="op">=</span> <span class="op">-</span><span class="fl">3.5966</span>, lat <span class="op">=</span> <span class="fl">57.0877</span>, 
                         radius <span class="op">=</span> <span class="fl">0.5</span>, taxonKey <span class="op">=</span> <span class="fl">7707728</span>, 
                         limit <span class="op">=</span> <span class="fl">500</span>, backbone_list <span class="op">=</span> <span class="va">BotanizeR_species</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">BotanizeR_Cairngorms</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 186</code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a new species list for the Island of Bornholm, Denmark</span>
<span class="va">BotanizeR_Bornholm</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/BotanizeR_getlocallist.html">BotanizeR_getlocallist</a></span><span class="op">(</span>long <span class="op">=</span> <span class="fl">14.9184</span>, lat <span class="op">=</span> <span class="fl">55.1273</span>, 
                         radius <span class="op">=</span> <span class="fl">0.5</span>, taxonKey <span class="op">=</span> <span class="fl">7707728</span>, 
                         limit <span class="op">=</span> <span class="fl">500</span>, backbone_list <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">BotanizeR_Bornholm</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 198</code></pre>
</div>
<div id="botanizer_imageresize" class="section level2">
<h2 class="hasAnchor">
<a href="#botanizer_imageresize" class="anchor"></a>BotanizeR_imageresize</h2>
<p><code><a href="../reference/BotanizeR_imageresize.html">BotanizeR_imageresize()</a></code> batch resizes all jpg and png images found in defined folders for plotting in <code><a href="../reference/BotanizeR_quiz.html">BotanizeR_quiz()</a></code> or the BotanizeR Shiny app.<br>
You define the new width of the images and optionally a maximum height which shall not be exceeded. Aspect ratios are maintained. <code><a href="../reference/BotanizeR_quiz.html">BotanizeR_quiz()</a></code> and the BotanizeR Shiny app can both resize images on the fly, however, to reduce traffic and loading time, it makes sense to reduce the size of large images in advance using <code><a href="../reference/BotanizeR_imageresize.html">BotanizeR_imageresize()</a></code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Not run: </span>
<span class="fu"><a href="../reference/BotanizeR_imageresize.html">BotanizeR_imageresize</a></span><span class="op">(</span>
  image_folders <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"inst/WWW/images_1"</span>,  <span class="co"># define 1 ore more folders</span>
                    <span class="st">"inst/WWW/images_2"</span><span class="op">)</span>, <span class="co"># with images to resize </span>
                      image_width <span class="op">=</span> <span class="fl">560</span>, max_height <span class="op">=</span> <span class="fl">700</span>, <span class="co"># new maximum extent</span>
                      quality <span class="op">=</span> <span class="fl">1</span>, int_type <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="co"># quality and interpolation </span>
                                                 <span class="co"># type as in imager::resize()</span>

<span class="co">## End(Not run)</span></code></pre></div>
</div>
<div id="botanizer_collect" class="section level2">
<h2 class="hasAnchor">
<a href="#botanizer_collect" class="anchor"></a>BotanizeR_collect</h2>
<p><code><a href="../reference/BotanizeR_collect.html">BotanizeR_collect()</a></code> Collects information from online resources like <a href="https://www.floraweb.de">FloraWeb</a> (images, map and species descriptions) and/or the <a href="https://www.brc.ac.uk/%20plantatlas/">Online Atlas of the British Irish flora</a> as well as from user defined image folders and columns in the <code>species_list</code> data.frame and formats them for showing them as hints in <code><a href="../reference/BotanizeR_quiz.html">BotanizeR_quiz()</a></code> or the BotanizeR Shiny app. This function does not have to be run standalone outside the quiz, but running it exemplifies how <code><a href="../reference/BotanizeR_quiz.html">BotanizeR_quiz()</a></code> and the BotanizeR Shiny app retrieve the information to be shown and how own information needs to be supplied via image folders or colunms of the <code>species_list</code> data.frame.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Select Acer campestre as example species</span>
<span class="va">species_row</span> <span class="op">=</span> <span class="va">BotanizeR_species</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">BotanizeR_species</span><span class="op">$</span><span class="va">SPECIES</span> <span class="op">==</span>
                                        <span class="st">"Acer campestre"</span><span class="op">)</span>,<span class="op">]</span>


<span class="co"># Load hints: only UK plant atlas image(s) + hints + map</span>
<span class="va">hints</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/BotanizeR_collect.html">BotanizeR_collect</a></span><span class="op">(</span><span class="va">species_row</span>, image_ukplantatlas <span class="op">=</span> <span class="cn">TRUE</span>, 
                           hints_ukplantatlas <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"mapuk"</span>, <span class="st">"familyuk"</span>, 
                                                 <span class="st">"ecology"</span>, <span class="st">"statusuk"</span>, 
                                                 <span class="st">"trends"</span>, <span class="st">"perennation"</span>,
                                                 <span class="st">"lifeform"</span>, <span class="st">"woodiness"</span>, 
                                                 <span class="st">"clonality"</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">4</span><span class="op">)</span>, oma <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">hints</span><span class="op">$</span><span class="va">image</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>, axes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="BotanizeR_functions_files/figure-html/BotanizeR_collect-1.png" width="672"></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">hints</span><span class="op">$</span><span class="va">mapuk</span><span class="op">)</span></code></pre></div>
<p><img src="BotanizeR_functions_files/figure-html/BotanizeR_collect-2.png" width="672"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">hints</span><span class="op">$</span><span class="va">statusuk</span></code></pre></div>
<pre><code>## [1] "Status: Native"</code></pre>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">hints</span><span class="op">$</span><span class="va">clonality</span></code></pre></div>
<pre><code>## [1] "Clonality: Little or no vegetative spread"</code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load hints: only FloraWeb image(s) + hints + map</span>
<span class="va">hints</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/BotanizeR_collect.html">BotanizeR_collect</a></span><span class="op">(</span><span class="va">species_row</span>, image_floraweb <span class="op">=</span> <span class="cn">TRUE</span>, 
                           hints_floraweb <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"map"</span>, <span class="st">"description"</span>, 
                                              <span class="st">"status"</span>, <span class="st">"habitat"</span>, 
                                              <span class="st">"family"</span>, <span class="st">"German name"</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">4</span><span class="op">)</span>, oma <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">hints</span><span class="op">$</span><span class="va">image</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, axes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="BotanizeR_functions_files/figure-html/BotanizeR_collect-3.png" width="672"></p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>oma <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">10.5</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">hints</span><span class="op">$</span><span class="va">map</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, pal <span class="op">=</span> <span class="va">hints</span><span class="op">$</span><span class="va">map</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>, key.pos <span class="op">=</span> <span class="fl">4</span>, main <span class="op">=</span> <span class="st">""</span><span class="op">)</span></code></pre></div>
<p><img src="BotanizeR_functions_files/figure-html/BotanizeR_collect-4.png" width="672"></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">hints</span><span class="op">$</span><span class="va">family</span></code></pre></div>
<pre><code>## [1] "Familienzugehörigkeit: Aceraceae, Ahorngewächse"</code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load hints: only images from custom image links + custom hints</span>
<span class="va">hints</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/BotanizeR_collect.html">BotanizeR_collect</a></span><span class="op">(</span><span class="va">species_row</span>, image_floraweb <span class="op">=</span> <span class="cn">FALSE</span>,
                           hints_custom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"ownhint_English_name"</span>, 
                                            <span class="st">"ownhint_Description"</span>, 
                                            <span class="st">"ownhint_Distribution"</span><span class="op">)</span>,
                           imagelinks_custom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"imagelink_1"</span>, 
                                                 <span class="st">"imagelink_2"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">4</span><span class="op">)</span>, oma <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">hints</span><span class="op">$</span><span class="va">image</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>, axes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="BotanizeR_functions_files/figure-html/BotanizeR_collect-5.png" width="672"></p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">hints</span><span class="op">$</span><span class="va">ownhint_English_name</span></code></pre></div>
<pre><code>## [1] "English name: Field Maple"</code></pre>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load hints: only returning image links instead of actual images</span>
<span class="va">hints</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/BotanizeR_collect.html">BotanizeR_collect</a></span><span class="op">(</span><span class="va">species_row</span>, image_floraweb <span class="op">=</span> <span class="cn">TRUE</span>,
                           image_ukplantatlas <span class="op">=</span> <span class="cn">TRUE</span>, 
                           imagelinks_custom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"imagelink_1"</span>, 
                                                 <span class="st">"imagelink_2"</span><span class="op">)</span>,
                           hints_ukplantatlas <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"mapuk"</span>, <span class="st">"familyuk"</span><span class="op">)</span>,
                           only_links <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">hints</span><span class="op">$</span><span class="va">images</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] "https://www.floraweb.de/bilder/arten/1925.jpg"</code></pre>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># To load images from your local computer, specify an image folder with</span>
<span class="co"># pictures included. File names need to include the species names.</span>

<span class="co">## Not run: </span>
<span class="va">hints</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/BotanizeR_collect.html">BotanizeR_collect</a></span><span class="op">(</span><span class="va">species_row</span>, 
                           image_folders <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"images/Asteraceae_Britain"</span>,
                                             <span class="st">"images/Trees"</span><span class="op">)</span><span class="op">)</span>
<span class="co">## End(Not run)</span></code></pre></div>
</div>
<div id="botanizer_quiz" class="section level2">
<h2 class="hasAnchor">
<a href="#botanizer_quiz" class="anchor"></a>BotanizeR_quiz</h2>
<p><code><a href="../reference/BotanizeR_quiz.html">BotanizeR_quiz()</a></code> runs the console version of the BotanizeR quiz. It navigates randomly through a <code>species_list</code>, shows defined pictures and descriptions and other hints from <code><a href="../reference/BotanizeR_collect.html">BotanizeR_collect()</a></code> and let’s you guess the species name. The Number of tries and attempts are used to calculate scores that will be used to update probabilities for the random sampling of subsequent species. The better you know a species the less likely it will be shown again.<br><br> After running the main function BotanizeR_quiz() you need to click into the console to type the species names in there. If you have no clou, press <em>enter</em> and the next hint will appear (you have <code>max_attempts</code> tries). If you type the name slightly wrong the function will tell you. If the genus is correct it will also tell you. It shows several photos if available. If you want to skip a species write ‘skip’. If you want to cancel the quiz write ‘exit’. Don’t hit <em>Esc</em> if you want to save your progress.</p>
<p>An example for species from Sussex, UK based on the <a href="https://www.brc.ac.uk/plantatlas/">Online Atlas of the British Irish flora</a>:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Subset for about 700 species known from Sussex, UK</span>
<span class="va">BotanizeR_Sussex</span> <span class="op">&lt;-</span> 
  <span class="va">BotanizeR_species</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">BotanizeR_species</span><span class="op">$</span><span class="va">UK_Ireland_Sussex</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span>, <span class="op">]</span>


<span class="co"># Type in species name, or press enter for next hint or type 'skip' and</span>
<span class="co"># press enter for next species or type 'exit' to end quiz and save results</span>
<span class="va">BotanizeR_UK_practiced</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/BotanizeR_quiz.html">BotanizeR_quiz</a></span><span class="op">(</span>species_list <span class="op">=</span> <span class="va">BotanizeR_example</span>,
                 image_floraweb <span class="op">=</span> <span class="cn">FALSE</span>, image_ukplantatlas <span class="op">=</span> <span class="cn">TRUE</span>, 
                 hints_ukplantatlas <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'mapuk'</span>, <span class="st">'familyuk'</span>, <span class="st">'ecology'</span>, 
                                         <span class="st">'statusuk'</span>, <span class="st">'trends'</span>, <span class="st">'perennation'</span>,
                                         <span class="st">'lifeform'</span>, <span class="st">'woodiness'</span>, 
                                         <span class="st">'clonality'</span><span class="op">)</span>, 
                 hints_floraweb <span class="op">=</span> <span class="cn">NULL</span>, 
                 case_sensitive <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p>An example for species from Göttingen, Germany based on <a href="https://www.floraweb.de">FloraWeb</a>:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Subset for about 300 species students in Goettingen, Germany, learn</span>
<span class="va">BotanizeR_Germany</span> <span class="op">&lt;-</span> 
  <span class="va">BotanizeR_species</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">BotanizeR_species</span><span class="op">$</span><span class="va">Germany_summer</span><span class="op">==</span><span class="fl">1</span> <span class="op">|</span> 
                            <span class="va">BotanizeR_species</span><span class="op">$</span><span class="va">Germany_BioDiv</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span>, <span class="op">]</span>


<span class="co"># Type in species name, or press enter for next hint or type "skip" and</span>
<span class="co"># press enter for next species or type "exit" to end quiz and save results</span>
<span class="va">BotanizeR_Germany_practiced</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/BotanizeR_quiz.html">BotanizeR_quiz</a></span><span class="op">(</span>species_list <span class="op">=</span> <span class="va">BotanizeR_Germany</span>, 
                 hints_floraweb <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"description"</span>, <span class="st">"status"</span>,
                                    <span class="st">"habitat"</span>,<span class="st">"family"</span>,<span class="st">"German name"</span><span class="op">)</span>, 
                 case_sensitive <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>


<span class="co"># If you want to include distribution maps as hints add "map" to hints;</span>
<span class="co"># This increases the download times a bit</span>
<span class="va">BotanizeR_Germany_practiced</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/BotanizeR_quiz.html">BotanizeR_quiz</a></span><span class="op">(</span>species_list <span class="op">=</span> <span class="va">BotanizeR_Germany</span>,
                 hints_floraweb <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"map"</span>, <span class="st">"description"</span>, <span class="st">"status"</span>, 
                                    <span class="st">"habitat"</span>, <span class="st">"family"</span>, <span class="st">"German name"</span><span class="op">)</span>, 
                 case_sensitive <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p>If you want to keep track of your progress, you can save the species list with updated scores locally and load it again in the next session:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Not run: </span>

<span class="co"># Saving results from above</span>
<span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">BotanizeR_Germany_practiced</span>, 
          <span class="st">"BotanizeR_Germany_practiced.csv"</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="co"># Loading previously saved pratcicing results</span>
<span class="va">BotanizeR_Germany_practiced</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"BotanizeR_Germany_practiced.csv"</span><span class="op">)</span>

<span class="co"># Practicing</span>
<span class="va">BotanizeR_Germany_practiced</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/BotanizeR_quiz.html">BotanizeR_quiz</a></span><span class="op">(</span>species_list <span class="op">=</span> <span class="va">BotanizeR_Germany_practiced</span>, 
                 hints_floraweb <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"description"</span>, <span class="st">"status"</span>,
                                    <span class="st">"habitat"</span>,<span class="st">"family"</span>,<span class="st">"German name"</span><span class="op">)</span>, 
                 case_sensitive <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="co"># Saving results again</span>
<span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">BotanizeR_Germany_practiced</span>, <span class="st">"BotanizeR_Germany_practiced.csv"</span>, 
          row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="co">## End(Not run)```</span></code></pre></div>
<p>You can add own species descriptions or other hints as well is link to additional online images into additional columns of the species list data.frame. Alternatively you can specify a folder with images on your local computer. Image file names need to include species names.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># example for three species with custom hints and images from their Wikipedia page</span>
<span class="va">BotanizeR_species_custom</span> <span class="op">&lt;-</span>  <span class="va">BotanizeR_species</span><span class="op">[</span>
  <span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">BotanizeR_Germany</span><span class="op">$</span><span class="va">species</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Acer campestre"</span>, 
                                         <span class="st">"Erica carnea"</span>,
                                         <span class="st">"Melampyrum nemorosum"</span><span class="op">)</span><span class="op">)</span>,<span class="op">]</span>

<span class="va">custom_species_trained</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/BotanizeR_quiz.html">BotanizeR_quiz</a></span><span class="op">(</span>species_list <span class="op">=</span> <span class="va">BotanizeR_species_custom</span>, 
                 image_floraweb <span class="op">=</span> <span class="cn">TRUE</span>, hints_floraweb <span class="op">=</span> <span class="cn">NULL</span>, 
                 hints_custom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"ownhint_Description"</span>,<span class="st">"ownhint_Distribution"</span><span class="op">)</span>,
                 imagelinks_custom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"imagelink_1"</span>, <span class="st">"imagelink_2"</span><span class="op">)</span>, 
                 image_folders <span class="op">=</span> <span class="cn">NULL</span>, case_sensitive <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
</div>
<div id="botanizer_shiny" class="section level2">
<h2 class="hasAnchor">
<a href="#botanizer_shiny" class="anchor"></a>BotanizeR_shiny</h2>
<p>The most convenient way to play the BotanizeR quiz and to study selected plant species based on images and descriptions is the BotanizeR Shiny app. When the BotanizeR R package is installed, you can start the Shiny application using the function <code><a href="../reference/BotanizeR_shiny.html">BotanizeR_shiny()</a></code>.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/BotanizeR_shiny.html">BotanizeR_shiny</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Alternatively, you can clone the BotanizeR GitHub repository (<a href="https://github.com/patrickweigelt/BotanizeR" class="uri">https://github.com/patrickweigelt/BotanizeR</a>) and run the shiny app from RStudio. This option offers most flexibility for modifying the app. For teaching purposes the Shiny app would ideally be set up on a shiny server which students can visit online. A comprehensive example instance of BotanizeR showcasing all functionality can be found at <a href="https://gift.uni-goettingen.de/shiny/BotanizeR/" class="uri">https://gift.uni-goettingen.de/shiny/BotanizeR/</a></p>
<p>Two more tutorials, one on how to use the Shiny app and one on how to set it up can be found here:</p>
<ul>
<li>
<strong><a href="https://patrickweigelt.github.io/BotanizeR/articles/BotanizeR_Shiny.html">how to use the BotanizeR Shiny app</a></strong><br>
</li>
<li><strong><a href="https://patrickweigelt.github.io/BotanizeR/articles/BotanizeR_config.html">how to set up and customize the Shiny app</a></strong></li>
</ul>
</div>
</div>
<div id="references" class="section level1">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<p>Bundesamt für Naturschutz (BfN): <a href="http://www.floraweb.de">http://www.floraweb.de</a><br>
Image authors: <a href="https://www.floraweb.de/ueberfloraweb/bildautoren.html">https://www.floraweb.de/ueberfloraweb/bildautoren.html</a></p>
<p>Online Atlas of the British and Irish flora: <a href="https://www.brc.ac.uk/plantatlas/">https://www.brc.ac.uk/plantatlas/</a><br>
Image authors: <a href="https://www.brc.ac.uk/plantatlas/content/photos">https://www.brc.ac.uk/plantatlas/content/photos</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Patrick Weigelt, Pierre Denelle.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
